{"ast":null,"code":"var _jsxFileName = \"/home/ajayjb/GraphQL Learn/client/src/components/DisplayUsers.js\",\n    _s = $RefreshSig$();\n\nimport { useQuery, useMutation, useLazyQuery, gql } from \"@apollo/client\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QUERY_ALL_USERS = gql`\n  query getAllUsers {\n    users {\n      id\n      name\n      age\n      nationality\n    }\n  }\n`;\nconst GET_USER_BY_ID = gql`\n  query User($userId: ID!) {\n    user(id: $userId) {\n      name\n      age\n    }\n  }\n`;\nconst CREATE_USER = gql`\n  mutation CreateUser($input: createUserInput!) {\n    createUser(input: $input) {\n      name\n      age\n    }\n  }\n`;\n\nconst DisplayUsers = () => {\n  _s();\n\n  const [id, setId] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [nationality, setNationality] = useState(\"\");\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useQuery(QUERY_ALL_USERS);\n  const [fetchUser, {\n    data: userData,\n    error: userError\n  }] = useLazyQuery(GET_USER_BY_ID);\n  const [createUser, {\n    data: createdUserData,\n    error: userCreationError\n  }] = useMutation(CREATE_USER);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createUser({\n      variables: {\n        input: {\n          name: name,\n          age: Number(age),\n          nationality: nationality,\n          userName: userName\n        }\n      }\n    });\n    refetch();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }, this), data && data.users.map(user => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: user.name\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 18\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: e => {\n        setId(Number(e.target.value));\n      },\n      placeholder: \"enter user id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        if (id) {\n          fetchUser({\n            variables: {\n              userId: id\n            }\n          });\n        }\n      },\n      children: \"Fetch User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), userData && (userData.user ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: userData.user.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 56\n    }, this)), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setName(Number(e.target.value));\n        },\n        placeholder: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setUserName(Number(e.target.value));\n        },\n        placeholder: \"userName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: e => {\n          setAge(Number(e.target.value));\n        },\n        placeholder: \"age\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => {\n          setNationality(Number(e.target.value));\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"India\",\n          children: \"India\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"USA\",\n          children: \"USA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Brazil\",\n          children: \"Brazil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DisplayUsers, \"8G7kCuRBVm3U3iGBvPGH+mh/nxU=\", false, function () {\n  return [useQuery, useLazyQuery, useMutation];\n});\n\n_c = DisplayUsers;\nexport default DisplayUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayUsers\");","map":{"version":3,"names":["useQuery","useMutation","useLazyQuery","gql","useState","QUERY_ALL_USERS","GET_USER_BY_ID","CREATE_USER","DisplayUsers","id","setId","name","setName","age","setAge","userName","setUserName","nationality","setNationality","loading","error","data","refetch","fetchUser","userData","userError","createUser","createdUserData","userCreationError","handleSubmit","e","preventDefault","variables","input","Number","users","map","user","target","value","userId"],"sources":["/home/ajayjb/GraphQL Learn/client/src/components/DisplayUsers.js"],"sourcesContent":["import { useQuery, useMutation, useLazyQuery, gql } from \"@apollo/client\";\nimport { useState } from \"react\";\n\nconst QUERY_ALL_USERS = gql`\n  query getAllUsers {\n    users {\n      id\n      name\n      age\n      nationality\n    }\n  }\n`;\n\nconst GET_USER_BY_ID = gql`\n  query User($userId: ID!) {\n    user(id: $userId) {\n      name\n      age\n    }\n  }\n`;\n\nconst CREATE_USER = gql`\n  mutation CreateUser($input: createUserInput!) {\n    createUser(input: $input) {\n      name\n      age\n    }\n  }\n`;\n\nconst DisplayUsers = () => {\n  const [id, setId] = useState(null);\n  const [name, setName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [nationality, setNationality] = useState(\"\");\n\n  const { loading, error, data, refetch } = useQuery(QUERY_ALL_USERS);\n\n  const [fetchUser, { data: userData, error: userError }] =\n    useLazyQuery(GET_USER_BY_ID);\n\n  const [createUser, { data: createdUserData, error: userCreationError }] =\n    useMutation(CREATE_USER);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createUser({\n      variables: {\n        input: {\n          name: name,\n          age: Number(age),\n          nationality: nationality,\n          userName: userName,\n        },\n      },\n    });\n    refetch();\n  };\n\n  return (\n    <div>\n      {loading && <div>loading</div>}\n      {data &&\n        data.users.map((user) => {\n          return <p key={user.id}>{user.name}</p>;\n        })}\n      <input\n        onChange={(e) => {\n          setId(Number(e.target.value));\n        }}\n        placeholder=\"enter user id\"\n      />\n      <button\n        onClick={() => {\n          if (id) {\n            fetchUser({ variables: { userId: id } });\n          }\n        }}\n      >\n        Fetch User\n      </button>\n      {userData &&\n        (userData.user ? <p>{userData.user.name}</p> : <p>No user</p>)}\n\n      <form onSubmit={handleSubmit}>\n        <input\n          onChange={(e) => {\n            setName(Number(e.target.value));\n          }}\n          placeholder=\"name\"\n        />\n        <input\n          onChange={(e) => {\n            setUserName(Number(e.target.value));\n          }}\n          placeholder=\"userName\"\n        />\n        <input\n          onChange={(e) => {\n            setAge(Number(e.target.value));\n          }}\n          placeholder=\"age\"\n        />\n        <select\n          onChange={(e) => {\n            setNationality(Number(e.target.value));\n          }}\n        >\n          <option value=\"India\">India</option>\n          <option value=\"USA\">USA</option>\n          <option value=\"Brazil\">Brazil</option>\n        </select>\n        <button type=\"submit\">Submit</button>\n      </form>\n    </div>\n  );\n};\n\nexport default DisplayUsers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}