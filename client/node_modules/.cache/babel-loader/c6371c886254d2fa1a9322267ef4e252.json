{"ast":null,"code":"var _jsxFileName = \"/home/ajayjb/GraphQL Learn/client/src/components/DisplayUsers.js\",\n    _s = $RefreshSig$();\n\nimport { useQuery, useLazyQuery, gql } from \"@apollo/client\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst QUERY_ALL_USERS = gql`\n  query getAllUsers {\n    users {\n      id\n      name\n      age\n      nationality\n    }\n  }\n`;\nconst GET_USER_BY_ID = gql`\n  query User($userId: ID!) {\n    user(id: $userId) {\n      name\n      age\n    }\n  }\n`;\n\nconst DisplayUsers = () => {\n  _s();\n\n  const [id, setId] = useState(null);\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(QUERY_ALL_USERS);\n  const [fetchUser, {\n    data: userData,\n    error: userError\n  }] = useLazyQuery(GET_USER_BY_ID);\n\n  if (userError) {\n    console.log(userError);\n  }\n\n  console.log(userData);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 19\n    }, this), data && data.users.map(user => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: user.name\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 18\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: e => {\n        setId(Number(e.target.value));\n      },\n      placeholder: \"enter user id\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        if (id) {\n          fetchUser({\n            variables: {\n              userId: id\n            }\n          });\n        }\n      },\n      children: \"Fetch User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), userData && (userData.user ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: userData.user.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No user\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 56\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n\n_s(DisplayUsers, \"cUy/fbGwGA1QjWd8sERn/+tlwY4=\", false, function () {\n  return [useQuery, useLazyQuery];\n});\n\n_c = DisplayUsers;\nexport default DisplayUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayUsers\");","map":{"version":3,"names":["useQuery","useLazyQuery","gql","useState","QUERY_ALL_USERS","GET_USER_BY_ID","DisplayUsers","id","setId","loading","error","data","fetchUser","userData","userError","console","log","users","map","user","name","e","Number","target","value","variables","userId"],"sources":["/home/ajayjb/GraphQL Learn/client/src/components/DisplayUsers.js"],"sourcesContent":["import { useQuery, useLazyQuery, gql } from \"@apollo/client\";\nimport { useState } from \"react\";\n\nconst QUERY_ALL_USERS = gql`\n  query getAllUsers {\n    users {\n      id\n      name\n      age\n      nationality\n    }\n  }\n`;\n\nconst GET_USER_BY_ID = gql`\n  query User($userId: ID!) {\n    user(id: $userId) {\n      name\n      age\n    }\n  }\n`;\n\nconst DisplayUsers = () => {\n  const [id, setId] = useState(null);\n\n  const { loading, error, data } = useQuery(QUERY_ALL_USERS);\n\n  const [fetchUser, { data: userData, error: userError }] =\n    useLazyQuery(GET_USER_BY_ID);\n\n  if (userError) {\n    console.log(userError);\n  }\n\n  console.log(userData);\n\n  return (\n    <div>\n      {loading && <div>loading</div>}\n      {data &&\n        data.users.map((user) => {\n          return <p key={user.id}>{user.name}</p>;\n        })}\n      <input\n        onChange={(e) => {\n          setId(Number(e.target.value));\n        }}\n        placeholder=\"enter user id\"\n      />\n      <button\n        onClick={() => {\n          if (id) {\n            fetchUser({ variables: { userId: id } });\n          }\n        }}\n      >\n        Fetch User\n      </button>\n      {userData &&\n        (userData.user ? <p>{userData.user.name}</p> : <p>No user</p>)}\n    </div>\n  );\n};\n\nexport default DisplayUsers;\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,YAAnB,EAAiCC,GAAjC,QAA4C,gBAA5C;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,MAAMC,eAAe,GAAGF,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATA;AAWA,MAAMG,cAAc,GAAGH,GAAI;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;;AASA,MAAMI,YAAY,GAAG,MAAM;EAAA;;EACzB,MAAM,CAACC,EAAD,EAAKC,KAAL,IAAcL,QAAQ,CAAC,IAAD,CAA5B;EAEA,MAAM;IAAEM,OAAF;IAAWC,KAAX;IAAkBC;EAAlB,IAA2BX,QAAQ,CAACI,eAAD,CAAzC;EAEA,MAAM,CAACQ,SAAD,EAAY;IAAED,IAAI,EAAEE,QAAR;IAAkBH,KAAK,EAAEI;EAAzB,CAAZ,IACJb,YAAY,CAACI,cAAD,CADd;;EAGA,IAAIS,SAAJ,EAAe;IACbC,OAAO,CAACC,GAAR,CAAYF,SAAZ;EACD;;EAEDC,OAAO,CAACC,GAAR,CAAYH,QAAZ;EAEA,oBACE;IAAA,WACGJ,OAAO,iBAAI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADd,EAEGE,IAAI,IACHA,IAAI,CAACM,KAAL,CAAWC,GAAX,CAAgBC,IAAD,IAAU;MACvB,oBAAO;QAAA,UAAkBA,IAAI,CAACC;MAAvB,GAAQD,IAAI,CAACZ,EAAb;QAAA;QAAA;QAAA;MAAA,QAAP;IACD,CAFD,CAHJ,eAME;MACE,QAAQ,EAAGc,CAAD,IAAO;QACfb,KAAK,CAACc,MAAM,CAACD,CAAC,CAACE,MAAF,CAASC,KAAV,CAAP,CAAL;MACD,CAHH;MAIE,WAAW,EAAC;IAJd;MAAA;MAAA;MAAA;IAAA,QANF,eAYE;MACE,OAAO,EAAE,MAAM;QACb,IAAIjB,EAAJ,EAAQ;UACNK,SAAS,CAAC;YAAEa,SAAS,EAAE;cAAEC,MAAM,EAAEnB;YAAV;UAAb,CAAD,CAAT;QACD;MACF,CALH;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAZF,EAqBGM,QAAQ,KACNA,QAAQ,CAACM,IAAT,gBAAgB;MAAA,UAAIN,QAAQ,CAACM,IAAT,CAAcC;IAAlB;MAAA;MAAA;MAAA;IAAA,QAAhB,gBAA8C;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADxC,CArBX;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA0BD,CAxCD;;GAAMd,Y;UAG6BN,Q,EAG/BC,Y;;;KANEK,Y;AA0CN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}